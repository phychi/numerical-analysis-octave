clear all
%% 高斯消去法（不选主元）
% A=[1e-8 2     3
%     -1  3.712 4.623
%     -2  1.072 5.643];
% b=[1 2 3]';
A=[4  -2 4
   -2 17 10
   -4 10 9];
b=[10 3 7]';
C=[A b];
C(2,:)=C(2,:)-C(1,:)*C(2,1)/C(1,1);
C(3,:)=C(3,:)-C(1,:)*C(3,1)/C(1,1);
C(3,:)=C(3,:)-C(2,:)*C(3,2)/C(2,2);
z=C(3,4)/C(3,3);
y=(C(2,4)-C(2,3)*z)/C(2,2);
x=(C(1,4)-C(1,3)*z-C(1,2)*y)/C(1,1);
[x,y,z]
%% 高斯消去法（选主元）
% A=[1e-8 2     3
%     -1  3.712 4.623
%     -2  1.072 5.643];
% b=[1 2 3]';
A=[4  -2 4
   -2 17 10
   -4 10 9];
b=[10 3 7]';
C=[A b];
[~,i]=max(abs(C(:,1)));
temp=zeros(3,3);
for j=1:3
    if j==i
        temp(i,1)=1;
    else if j==1
            temp(1,i)=1;
        else
            temp(j,j)=1;
        end
    end
end
C=temp*C;
C(2,:)=C(2,:)-C(1,:)*C(2,1)/C(1,1);
C(3,:)=C(3,:)-C(1,:)*C(3,1)/C(1,1);

[~,i]=max(abs(C(2:3,1)));
i=i+1;
temp=zeros(3,3);
for j=1:3
    if j==i
        temp(i,1)=1;
    else if j==1
            temp(1,i)=1;
        else
            temp(j,j)=1;
        end
    end
end
C(3,:)=C(3,:)-C(2,:)*C(3,2)/C(2,2);
z=C(3,4)/C(3,3);
y=(C(2,4)-C(2,3)*z)/C(2,2);
x=(C(1,4)-C(1,3)*z-C(1,2)*y)/C(1,1);
[x,y,z]